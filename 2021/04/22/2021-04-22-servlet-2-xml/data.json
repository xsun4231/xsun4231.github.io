{"title":"web.xml 的Servlet配置","date":"2021-04-22T10:40:50.000Z","source":"_posts/2021-04-22-servlet-2-xml.md","raw":"---\ntitle: web.xml 的Servlet配置\ntags:\n  - Java\ndate: 2021-04-22 19:40:50\n---\n\n[web.xml中servlet配置及其含义](https://www.cnblogs.com/AlanWilliamWalker/p/11128688.html)\n\n## 什么是 web.xml\nweb.xml是Java工程中用来设置初始化配置信息的文件。xml的书写规则是有Schema文件来定义的。\n\nweb.xml使用的schema一般是Sun定义的，标注在标签`<web-app>`中。  \n\n## web.xml中设置Servlet的常用标签\n\n### 【1】servlet \n```xml\n<!-- servlet的配置 -->\n<servlet>\n  <!-- 定义servlet的内部名称 -->\n  <servlet-name></servlet-name>\n  <!-- servlet的类名 此处为全路径-->\n  <servlet-class></servlet-class>\n</servlet>\n\n<!-- servlet的映射配置 -->\n<servlet-mapping>\n  <!-- 对应上面定义的servlet内部名称 -->\n  <servlet-name></servlet-name>\n  <!-- servlet的映射路径 -->\n  <url-pattern></url-pattern>\n</servlet-maping>\n```\n\n配置servlet标签需要配置两个，一个是servlet本身，另一个servlet-mapping是servlet的映射信息。\nservlet的servlet-name可以自定义，一般为servlet的类名，而servlet-class则是servlet类的全路径。  \nservlet-mapping的servlet-name是对应的servlet名，url-pattern则是我们输入到浏览器地址栏中的用来调用servlet的url。\n\n\n\n|      | url-pattern | \n| :---- | ---- | \n| 精确匹配 | /servlet |  \n| 模糊匹配 | /* |  \n| 模糊匹配 | /path/* |  \n| 模糊匹配 | *.后缀 |  \n\nurl-pattern除了上面的基本写法之外，还要注意几点：\n1. `/` 或者 `*`, url不能直接用servlet名开头。\n2. 同时使用两种模糊匹配是非法路径\n3. 匹配优先级：精确匹配最优先，后缀匹配最后\n\n### 【2】初始参数\n\n可以设置两种参数用来初始化servlet，一种是init-param，一种时context-param。  \n关于两种参数的区别：[init-param and context-param](https://stackoverflow.com/questions/28392888/init-param-and-context-param)  \n\ninit-param是给特定servlet设置的参数，所以写在`<servlet>`下面\n\n```xml\n<servlet>\n  <servlet-name></servlet-name>\n  <servlet-class></servlet-class>\n  <init-param>\n    <param-name>userName</param-name>\n    <param-value>Alice</param-value>\n  </init-param>\n</servlet>\n```\n\n使用的时候通过`getServletConfig().getInitParamter(\"userName\")`来调用。\n\ncontext-param是为webApp全局准备的参数，直接定义在`<web-app>`标签下，通过`getServletContext().getInitParamter(\"userName\")`来调用\n\n```xml\n<web-app>\n  <context-param>\n    <param-name>userName</param-name>\n    <param-value>Alice</param-value>\n  </context-param>\n\n</web-app>\n```\n\n\n### 【3】特殊标签\n\n1. 错误处理\n```xml\n<error-page> \n    <error-code>404</error-code> \n    <location>/error404.jsp</location> \n</error-page> \n\n...\n\n<error-page> \n    <exception-type>java.lang.Exception<exception-type> \n    <location>/exception.jsp<location> \n</error-page> \n```\n2. 过滤器\n```xml\n<filter> \n    <filter-name> </filter-name> \n    <filter-class> </filter-class> \n</filter> \n<filter-mapping> \n    <filter-name> </filter-name> \n    <url-pattern> </url-pattern> \n</filter-mapping> \n```\n\n3. 监听器\n```xml\n<listener> \n  <listener-class></listener-class> \n</listener> \n```\n\n4. 会话\n```xml\n<session-config> \n  <!-- 以分为单位 -->\n  <session-timeout> </session-timeout> \n</session-config>\n```\n\n5. 欢迎页\n\n找不到index1，就会加载index2\n\n```xml\n<welcome-file-list>\n  <welcome-file>index1.jsp</welcome-file>\n  <welcome-file>index2.jsp</welcome-file>\n</welcome-file-list>\n```\n","slug":"2021-04-22-servlet-2-xml","published":true,"updated":"2025-01-31T15:39:12.963Z","_id":"cm6m2r3x00023zg9d59vi15kv","comments":true,"layout":"post","photos":[],"html":"<p><a href=\"https://www.cnblogs.com/AlanWilliamWalker/p/11128688.html\">web.xml中servlet配置及其含义</a></p>\n<h2 id=\"什么是-web-xml\"><a href=\"#什么是-web-xml\" class=\"headerlink\" title=\"什么是 web.xml\"></a>什么是 web.xml</h2><p>web.xml是Java工程中用来设置初始化配置信息的文件。xml的书写规则是有Schema文件来定义的。</p>\n<p>web.xml使用的schema一般是Sun定义的，标注在标签<code>&lt;web-app&gt;</code>中。  </p>\n<h2 id=\"web-xml中设置Servlet的常用标签\"><a href=\"#web-xml中设置Servlet的常用标签\" class=\"headerlink\" title=\"web.xml中设置Servlet的常用标签\"></a>web.xml中设置Servlet的常用标签</h2><h3 id=\"【1】servlet\"><a href=\"#【1】servlet\" class=\"headerlink\" title=\"【1】servlet\"></a>【1】servlet</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- servlet的配置 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 定义servlet的内部名称 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- servlet的类名 此处为全路径--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- servlet的映射配置 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 对应上面定义的servlet内部名称 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- servlet的映射路径 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet-maping</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>配置servlet标签需要配置两个，一个是servlet本身，另一个servlet-mapping是servlet的映射信息。<br>servlet的servlet-name可以自定义，一般为servlet的类名，而servlet-class则是servlet类的全路径。<br>servlet-mapping的servlet-name是对应的servlet名，url-pattern则是我们输入到浏览器地址栏中的用来调用servlet的url。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th>url-pattern</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">精确匹配</td>\n<td>&#x2F;servlet</td>\n</tr>\n<tr>\n<td align=\"left\">模糊匹配</td>\n<td>&#x2F;*</td>\n</tr>\n<tr>\n<td align=\"left\">模糊匹配</td>\n<td>&#x2F;path&#x2F;*</td>\n</tr>\n<tr>\n<td align=\"left\">模糊匹配</td>\n<td>*.后缀</td>\n</tr>\n</tbody></table>\n<p>url-pattern除了上面的基本写法之外，还要注意几点：</p>\n<ol>\n<li><code>/</code> 或者 <code>*</code>, url不能直接用servlet名开头。</li>\n<li>同时使用两种模糊匹配是非法路径</li>\n<li>匹配优先级：精确匹配最优先，后缀匹配最后</li>\n</ol>\n<h3 id=\"【2】初始参数\"><a href=\"#【2】初始参数\" class=\"headerlink\" title=\"【2】初始参数\"></a>【2】初始参数</h3><p>可以设置两种参数用来初始化servlet，一种是init-param，一种时context-param。<br>关于两种参数的区别：<a href=\"https://stackoverflow.com/questions/28392888/init-param-and-context-param\">init-param and context-param</a>  </p>\n<p>init-param是给特定servlet设置的参数，所以写在<code>&lt;servlet&gt;</code>下面</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">init-param</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">param-name</span>&gt;</span>userName<span class=\"tag\">&lt;/<span class=\"name\">param-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">param-value</span>&gt;</span>Alice<span class=\"tag\">&lt;/<span class=\"name\">param-value</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">init-param</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>使用的时候通过<code>getServletConfig().getInitParamter(&quot;userName&quot;)</code>来调用。</p>\n<p>context-param是为webApp全局准备的参数，直接定义在<code>&lt;web-app&gt;</code>标签下，通过<code>getServletContext().getInitParamter(&quot;userName&quot;)</code>来调用</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">context-param</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">param-name</span>&gt;</span>userName<span class=\"tag\">&lt;/<span class=\"name\">param-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">param-value</span>&gt;</span>Alice<span class=\"tag\">&lt;/<span class=\"name\">param-value</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">context-param</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"【3】特殊标签\"><a href=\"#【3】特殊标签\" class=\"headerlink\" title=\"【3】特殊标签\"></a>【3】特殊标签</h3><ol>\n<li>错误处理</li>\n</ol>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">error-page</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">error-code</span>&gt;</span>404<span class=\"tag\">&lt;/<span class=\"name\">error-code</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">location</span>&gt;</span>/error404.jsp<span class=\"tag\">&lt;/<span class=\"name\">location</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">error-page</span>&gt;</span> </span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">error-page</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">exception-type</span>&gt;</span>java.lang.Exception<span class=\"tag\">&lt;<span class=\"name\">exception-type</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">location</span>&gt;</span>/exception.jsp<span class=\"tag\">&lt;<span class=\"name\">location</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">error-page</span>&gt;</span> </span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>过滤器</li>\n</ol>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">filter</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filter-name</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">filter-name</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filter-class</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">filter-class</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">filter</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">filter-mapping</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filter-name</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">filter-name</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">filter-mapping</span>&gt;</span> </span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>监听器</li>\n</ol>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">listener</span>&gt;</span> </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">listener-class</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">listener-class</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">listener</span>&gt;</span> </span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>会话</li>\n</ol>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">session-config</span>&gt;</span> </span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 以分为单位 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">session-timeout</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">session-timeout</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li>欢迎页</li>\n</ol>\n<p>找不到index1，就会加载index2</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">welcome-file-list</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">welcome-file</span>&gt;</span>index1.jsp<span class=\"tag\">&lt;/<span class=\"name\">welcome-file</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">welcome-file</span>&gt;</span>index2.jsp<span class=\"tag\">&lt;/<span class=\"name\">welcome-file</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">welcome-file-list</span>&gt;</span></span><br></pre></td></tr></table></figure>\n","excerpt":"","more":"<p><a href=\"https://www.cnblogs.com/AlanWilliamWalker/p/11128688.html\">web.xml中servlet配置及其含义</a></p>\n<h2 id=\"什么是-web-xml\"><a href=\"#什么是-web-xml\" class=\"headerlink\" title=\"什么是 web.xml\"></a>什么是 web.xml</h2><p>web.xml是Java工程中用来设置初始化配置信息的文件。xml的书写规则是有Schema文件来定义的。</p>\n<p>web.xml使用的schema一般是Sun定义的，标注在标签<code>&lt;web-app&gt;</code>中。  </p>\n<h2 id=\"web-xml中设置Servlet的常用标签\"><a href=\"#web-xml中设置Servlet的常用标签\" class=\"headerlink\" title=\"web.xml中设置Servlet的常用标签\"></a>web.xml中设置Servlet的常用标签</h2><h3 id=\"【1】servlet\"><a href=\"#【1】servlet\" class=\"headerlink\" title=\"【1】servlet\"></a>【1】servlet</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- servlet的配置 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 定义servlet的内部名称 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- servlet的类名 此处为全路径--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- servlet的映射配置 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 对应上面定义的servlet内部名称 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- servlet的映射路径 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet-maping</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>配置servlet标签需要配置两个，一个是servlet本身，另一个servlet-mapping是servlet的映射信息。<br>servlet的servlet-name可以自定义，一般为servlet的类名，而servlet-class则是servlet类的全路径。<br>servlet-mapping的servlet-name是对应的servlet名，url-pattern则是我们输入到浏览器地址栏中的用来调用servlet的url。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th>url-pattern</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">精确匹配</td>\n<td>&#x2F;servlet</td>\n</tr>\n<tr>\n<td align=\"left\">模糊匹配</td>\n<td>&#x2F;*</td>\n</tr>\n<tr>\n<td align=\"left\">模糊匹配</td>\n<td>&#x2F;path&#x2F;*</td>\n</tr>\n<tr>\n<td align=\"left\">模糊匹配</td>\n<td>*.后缀</td>\n</tr>\n</tbody></table>\n<p>url-pattern除了上面的基本写法之外，还要注意几点：</p>\n<ol>\n<li><code>/</code> 或者 <code>*</code>, url不能直接用servlet名开头。</li>\n<li>同时使用两种模糊匹配是非法路径</li>\n<li>匹配优先级：精确匹配最优先，后缀匹配最后</li>\n</ol>\n<h3 id=\"【2】初始参数\"><a href=\"#【2】初始参数\" class=\"headerlink\" title=\"【2】初始参数\"></a>【2】初始参数</h3><p>可以设置两种参数用来初始化servlet，一种是init-param，一种时context-param。<br>关于两种参数的区别：<a href=\"https://stackoverflow.com/questions/28392888/init-param-and-context-param\">init-param and context-param</a>  </p>\n<p>init-param是给特定servlet设置的参数，所以写在<code>&lt;servlet&gt;</code>下面</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">init-param</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">param-name</span>&gt;</span>userName<span class=\"tag\">&lt;/<span class=\"name\">param-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">param-value</span>&gt;</span>Alice<span class=\"tag\">&lt;/<span class=\"name\">param-value</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">init-param</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>使用的时候通过<code>getServletConfig().getInitParamter(&quot;userName&quot;)</code>来调用。</p>\n<p>context-param是为webApp全局准备的参数，直接定义在<code>&lt;web-app&gt;</code>标签下，通过<code>getServletContext().getInitParamter(&quot;userName&quot;)</code>来调用</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">context-param</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">param-name</span>&gt;</span>userName<span class=\"tag\">&lt;/<span class=\"name\">param-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">param-value</span>&gt;</span>Alice<span class=\"tag\">&lt;/<span class=\"name\">param-value</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">context-param</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"【3】特殊标签\"><a href=\"#【3】特殊标签\" class=\"headerlink\" title=\"【3】特殊标签\"></a>【3】特殊标签</h3><ol>\n<li>错误处理</li>\n</ol>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">error-page</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">error-code</span>&gt;</span>404<span class=\"tag\">&lt;/<span class=\"name\">error-code</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">location</span>&gt;</span>/error404.jsp<span class=\"tag\">&lt;/<span class=\"name\">location</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">error-page</span>&gt;</span> </span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">error-page</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">exception-type</span>&gt;</span>java.lang.Exception<span class=\"tag\">&lt;<span class=\"name\">exception-type</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">location</span>&gt;</span>/exception.jsp<span class=\"tag\">&lt;<span class=\"name\">location</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">error-page</span>&gt;</span> </span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>过滤器</li>\n</ol>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">filter</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filter-name</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">filter-name</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filter-class</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">filter-class</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">filter</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">filter-mapping</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filter-name</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">filter-name</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">filter-mapping</span>&gt;</span> </span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>监听器</li>\n</ol>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">listener</span>&gt;</span> </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">listener-class</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">listener-class</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">listener</span>&gt;</span> </span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>会话</li>\n</ol>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">session-config</span>&gt;</span> </span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 以分为单位 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">session-timeout</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">session-timeout</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li>欢迎页</li>\n</ol>\n<p>找不到index1，就会加载index2</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">welcome-file-list</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">welcome-file</span>&gt;</span>index1.jsp<span class=\"tag\">&lt;/<span class=\"name\">welcome-file</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">welcome-file</span>&gt;</span>index2.jsp<span class=\"tag\">&lt;/<span class=\"name\">welcome-file</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">welcome-file-list</span>&gt;</span></span><br></pre></td></tr></table></figure>\n","path":"2021/04/22/2021-04-22-servlet-2-xml/","permalink":"https://xsun4231.github.io/2021/04/22/2021-04-22-servlet-2-xml/","tags":[{"name":"Java","_id":"cm6m2r3wq000qzg9deq8b0ho7","slug":"Java","path":"tags/Java/","permalink":"https://xsun4231.github.io/tags/Java/","length":7}],"categories":[],"prev":{"title":"Mockito使い始めて見る","date":"2021-07-21T00:57:31.000Z","slug":"2021-07-21-junit-1","published":true,"updated":"2025-01-31T15:39:12.964Z","_id":"cm6m2r3x00026zg9dejrm0c7l","layout":"post","photos":[],"excerpt":"","path":"2021/07/21/2021-07-21-junit-1/","permalink":"https://xsun4231.github.io/2021/07/21/2021-07-21-junit-1/","__post":true},"next":{"title":"Servlet 基础","date":"2021-04-20T14:11:34.000Z","slug":"2021-04-20-servlet-1","published":true,"updated":"2025-01-31T15:39:12.963Z","_id":"cm6m2r3wz0021zg9d9p4n6va7","layout":"post","photos":[],"excerpt":"","path":"2021/04/20/2021-04-20-servlet-1/","permalink":"https://xsun4231.github.io/2021/04/20/2021-04-20-servlet-1/","__post":true},"__post":true}