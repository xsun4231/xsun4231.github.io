<!DOCTYPE html><html lang="zh-CN" theme="default"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="XSUN"><title>XSUN's blog</title><meta name="description" content="A simple and beautiful blog"><meta name="keywords" content="Blog,博客,Hexo"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta id="site_data_static" data-url="/"><meta name="renderer" content="webkit"><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.webp"><link rel="stylesheet" href="/js_complied/bundle.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&amp;display=swap" rel="stylesheet"><script src="/js_complied/bundle.js"></script><script>Anatolo.comment.setConfig({"valine":{"enable":false,"appid":null,"appkey":null,"notify":false,"verify":false,"avatar":"mm","placeholder":"hello, world"},"gitment":{"enable":false,"owner":"Your GitHub ID","repo":"Repo to store comments","client_id":"Your client ID","client_secret":"Your client secret"},"gitalk":{"enable":false,"owner":"Your GitHub ID","repo":"Repo to store comments","client_id":"Your client ID","client_secret":"Your client secret"},"duoshuo":null,"disqus":null,"gentie":null})</script><meta name="generator" content="Hexo 7.3.0"></head><body> <main-outlet><div class="page-top animated"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li></div><div class="information"><div class="nav_right_btn"><li class="btn-toggle-more"><i class="fa fa-ellipsis"></i></li><li class="btn-search"><a class="fa fa-search" onclick="Anatolo.search.openWindow();"></a></li><li class="btn-toggle-theme"><a class="far fa-sun" onclick="Anatolo.darkLightToggle();"></a></li></div><div class="avatar"><img src="/images/logo.webp"></div></div></div><div class="sidebar animated"><div class="sidebar-top"><div class="logo-title"><div class="title"><img src="/images/logo@2x.webp" style="width:220px;" alt="favicon"><h3 title=""><a href="/">XSUN's blog</a></h3><div class="description"><p>A simple and beautiful blog</p></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://github.com/Null-PE"><i class="fab fa-github"></i></a></li></ul></div></div><div class="footer"><div class="p"><span>Author </span><i class="fa fa-star"></i><span> XSUN</span></div><div class="by_farbox"><span>Powered by</span><a href="https://hexo.io/zh-cn/" target="_blank"> Hexo</a><span> &</span><a href="https://github.com/Lhcfl/hexo-theme-anatolo" target="_blank"> Anatolo</a></div><div class="beian"></div></div></div><div class="main animated fadeInDown"><div class="autopagerize_page_element"><div class="content"><div class="post animated"><div class="post-title"><h3><a href="/2020/12/07/2020-12-07-day-3/">Day 3 面向对象进阶</a></h3></div><div class="post-content"><div class="card"><p><p>3&#x2F;100</p>
<h2 id="slots"><a href="#slots" class="headerlink" title="slots"></a><strong>slots</strong></h2><p>Python是动态语言，我们可以随时为对象绑定新的属性和方法。但是如果我们想限制类型的对象所能绑定的属性，则需要用到<code>__slots__</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"></span><br><span class="line">    __slots__ = (<span class="string">&#x27;_name&#x27;</span>, <span class="string">&#x27;_age&#x27;</span>, <span class="string">&#x27;_gender&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        <span class="variable language_">self</span>._name = name</span><br><span class="line">        <span class="variable language_">self</span>._age = age</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>._name</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>._age</span><br><span class="line"></span><br><span class="line"><span class="meta">    @age.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self, age</span>):</span><br><span class="line">        <span class="variable language_">self</span>._age = age</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">play</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>._age &lt;= <span class="number">16</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;play game&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;work&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    person = Person(<span class="string">&#x27;Alice&#x27;</span>, <span class="number">20</span>)</span><br><span class="line">    person.play()</span><br><span class="line">    person._gender = <span class="string">&#x27;male&#x27;</span></span><br><span class="line">    <span class="comment"># Error</span></span><br><span class="line">    <span class="comment"># person._family = True</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>


<h2 id="特殊方法"><a href="#特殊方法" class="headerlink" title="特殊方法"></a>特殊方法</h2><ol>
<li>静态方法使用 <code>@staticmethod</code> 修饰</li>
<li>类方法使用 <code>@classmethod</code> 来修饰, 类方法的第一个参数必须是<code>cls</code>，表示当前类的对象</li>
</ol>
</p></div></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-12-07</span><i class="fa fa-tag"></i><a class="tag" href="/tags/100-days-of-code/" title="100 days of code">100 days of code </a><span>大约188个字, 37秒读完</span></div></div></div></div><div class="post animated"><div class="post-title"><h3><a href="/2020/12/07/2020-12-07-day-2/">Day2 面向对象相关</a></h3></div><div class="post-content"><div class="card"><p><p>2&#x2F;100</p>
<h2 id="定义类"><a href="#定义类" class="headerlink" title="定义类"></a>定义类</h2><p>python使用关键字<code>class</code>来定义类，在类名后的括号里写父类。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 相当于Java的构造体，类的field可以直接赋值，不用事先定义</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">      <span class="variable language_">self</span>.name = name </span><br><span class="line">      <span class="variable language_">self</span>.age = age</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 参数self相当于Java中的this，在调用方法的时候不需要指定，单如果没有这个参数就无法使用类的field</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">study</span>(<span class="params">self, course</span>):</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">f&#x27;studing: <span class="subst">&#123;course&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">watch_movie</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.age &lt; <span class="number">18</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;%s只能观看《熊出没》.&#x27;</span> % <span class="variable language_">self</span>.name)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment">#  这是原作者 [jackfrued] 的爱好</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;%s正在观看岛国爱情大电影.&#x27;</span> % <span class="variable language_">self</span>.name)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>可见性</strong></p>
<p>python并没有复杂而严格的可见性设置，虽然可以通过在方法和变量前加两个下划线来设置私有性，但这其实只是改变了访问规则而已。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, foo</span>):</span><br><span class="line">        <span class="variable language_">self</span>.__foo = foo</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__bar</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="variable language_">self</span>.__foo)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;__bar&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    test = Test(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    <span class="comment"># AttributeError: &#x27;Test&#x27; object has no attribute &#x27;__bar&#x27;</span></span><br><span class="line">    test.__bar()</span><br><span class="line">    <span class="comment"># AttributeError: &#x27;Test&#x27; object has no attribute &#x27;__foo&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(test.__foo)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 在前面添加 _Test 就可以访问了</span></span><br><span class="line">    test._Test__bar()</span><br><span class="line">    <span class="built_in">print</span>(test._Test__foo)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>一般使用单下划线来表明方法或变量是受保护的，但这也只是一种隐含的意思而已。</p>
<p><code>@property</code>装饰器<br>可以使用@property来包装属性，这样属性将会被封装起来，使用@property装饰的方法可以作为getter来使用，想要使用setter则需要@xxx.setter来修饰。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        <span class="variable language_">self</span>._name = name¬</span><br><span class="line">        <span class="variable language_">self</span>._age = age¬</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 如果没有这个修饰，下面的person.name = &#x27;Bob&#x27; 就不会报错</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>._name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>._age</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @age.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self, age</span>):</span><br><span class="line">        <span class="variable language_">self</span>._age = age</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">play</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.age &lt;= <span class="number">16</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;plage game&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:¬</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;work&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    person = Person(<span class="string">&#x27;Alcie&#x27;</span>, <span class="number">12</span>)</span><br><span class="line">    person.play()</span><br><span class="line">    person.age = <span class="number">22</span></span><br><span class="line">    person.play()</span><br><span class="line">    <span class="comment"># AttributeError: can&#x27;t set attribute</span></span><br><span class="line">    person.name = <span class="string">&#x27;Bob&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure></p></div></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-12-07</span><i class="fa fa-tag"></i><a class="tag" href="/tags/100-days-of-code/" title="100 days of code">100 days of code </a><span>大约510个字, 1分钟42秒读完</span></div></div></div></div><div class="post animated"><div class="post-title"><h3><a href="/2020/12/06/2020-12-06-day-1/">Day1 Python 基础</a></h3></div><div class="post-content"><div class="card"><p><p>1&#x2F;100</p>
<h2 id="【1】基本元素"><a href="#【1】基本元素" class="headerlink" title="【1】基本元素"></a>【1】基本元素</h2><h3 id="常见数据类型"><a href="#常见数据类型" class="headerlink" title="常见数据类型"></a>常见数据类型</h3><ol>
<li>整形 python3开始整数不区分int和long，支持二，八，十六进制。</li>
<li>浮点型 可以理解成小数</li>
<li>字符串 单引号 双引号都可以，三个引号输入多行内容</li>
<li>布尔型 True False 开头大写</li>
</ol>
<blockquote>
<p>变量名使用_连接 <code>my_var_name</code><br><code>_name_</code>  单下划线开头为受保护的实例属性<br><code>__name__</code>  双下划线开头的为私有属性</p>
</blockquote>
<p>使用 <code>type()</code> 来确认类型，使用下面的方法来转换类型：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>() <span class="comment">#转换成整数 </span></span><br><span class="line"><span class="built_in">float</span>() <span class="comment">#转换成浮点数</span></span><br><span class="line"><span class="built_in">str</span>() <span class="comment">#转换成字符串，可以是字符编码</span></span><br><span class="line"><span class="built_in">chr</span>() <span class="comment">#字符串编码（整数）转换成字符串</span></span><br><span class="line"><span class="built_in">ord</span>() <span class="comment">#活的字符串对应的编码（整数）</span></span><br></pre></td></tr></table></figure>

<h2 id="【2】逻辑语句"><a href="#【2】逻辑语句" class="headerlink" title="【2】逻辑语句"></a>【2】逻辑语句</h2><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>除了常见的运算符外，python常用的还有：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">is</span> </span><br><span class="line"><span class="keyword">is</span> <span class="keyword">not</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">in</span> </span><br><span class="line"><span class="keyword">not</span> <span class="keyword">in</span></span><br></pre></td></tr></table></figure>

<h3 id="if分支"><a href="#if分支" class="headerlink" title="if分支"></a>if分支</h3><p>python的if分支跟函数，类一样都是使用缩进来表示代码的层次结构。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> name == <span class="string">&#x27;a&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> name == <span class="string">&#x27;b&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;c&#x27;</span>)</span><br></pre></td></tr></table></figure>


<h3 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h3><p>for-in<br>python一般使用<code>for name in collection</code>的方式来写循环语句</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    <span class="built_in">sum</span> += x</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure>

<h2 id="【3】函数"><a href="#【3】函数" class="headerlink" title="【3】函数"></a>【3】函数</h2><h3 id="函数定义和参数"><a href="#函数定义和参数" class="headerlink" title="函数定义和参数"></a>函数定义和参数</h3><p>定义函数的关键字是 <code>def</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">foo</span>(<span class="params">a</span>):</span><br><span class="line">    <span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure>

<p>python中函数的参数可以设置默认值，所以使用的时候可以忽略部分参数或者直接指定某些参数，所以python的函数不需要像Java一样重载</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a=<span class="number">0</span>, b=<span class="number">0</span>, c=<span class="number">0</span></span>):</span><br><span class="line">    <span class="keyword">return</span> a + b + c</span><br></pre></td></tr></table></figure>

<p>还可以定义可变参数来接收无法确定个数的参数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">*args</span>):</span><br><span class="line">    total = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> val <span class="keyword">in</span> args:</span><br><span class="line">        total += val</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h3><p>python一个文件就算一个模块，通过<code>import</code>来导入指定模块的内容。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># module1.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">foo</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;hello, world&#x27;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># module2.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">foo</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;hello, world&#x27;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># test</span></span><br><span class="line"><span class="keyword">import</span> module1 <span class="keyword">as</span> m1</span><br><span class="line"><span class="keyword">import</span> module2 <span class="keyword">as</span> m2</span><br><span class="line"></span><br><span class="line">m1.foo()</span><br><span class="line">m2.foo()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>还可以直接从模块导入具体的函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> module1 <span class="keyword">import</span> foo</span><br><span class="line"><span class="keyword">from</span> module2 <span class="keyword">import</span> foo</span><br><span class="line"></span><br><span class="line"><span class="comment">#  后导入的foo会覆盖之前导入的foo，所以这里使用的是module2的foo</span></span><br><span class="line">foo()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="name-‘main‘"><a href="#name-‘main‘" class="headerlink" title="name &#x3D;&#x3D; ‘main‘"></a><strong>name</strong> &#x3D;&#x3D; ‘<strong>main</strong>‘</h3><p>模块中如果需要写入可执行语句，一般需要包装在 <code>__name__ == &#39;__main__&#39;</code> 中，这样除非直接运行该模块，这些可执行语句是不会被执行的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">foo</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;hello, world&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    foo()</span><br></pre></td></tr></table></figure>

<p><code>__name__</code> 是python的一个隐藏属性：模块名。 被python解释器直接执行的模块名字叫 <code>__main__</code></p>
</p></div></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-12-06</span><i class="fa fa-tag"></i><a class="tag" href="/tags/100-days-of-code/" title="100 days of code">100 days of code </a><span>大约651个字, 2分钟10秒读完</span></div></div></div></div><div class="post animated"><div class="post-title"><h3><a href="/2020/10/12/2020-10-12-er-1/">PlantUML（一） 类图</a></h3></div><div class="post-content"><div class="card"><p><p>ER图笔记（一）</p>
<p><strong>ER图</strong> Entity Relationship Diagram</p>
<h3 id="Cardinality"><a href="#Cardinality" class="headerlink" title="Cardinality"></a>Cardinality</h3><p>在线的端点通过下列符号来指定数量关系  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--  1</span><br><span class="line">--||  1 &amp;&amp; only 1</span><br><span class="line">--o|  0 or 1</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A-l-a</span><br><span class="line">B-||b </span><br><span class="line">C-o|c</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--&#123;  multi</span><br><span class="line">--|&#123;  1 or more</span><br><span class="line">--o&#123;  0 or more</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">D-&#123;d</span><br><span class="line">E-|&#123;e</span><br><span class="line">F-o&#123;f</span><br></pre></td></tr></table></figure>

<h3 id="Direction"><a href="#Direction" class="headerlink" title="Direction"></a>Direction</h3><p>在线的中央插入下列关键字来指定方向</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">up, u</span><br><span class="line">down, d, do</span><br><span class="line">left, l, le</span><br><span class="line">right, r, ri</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A-u-&gt;Up</span><br><span class="line">B-d-&gt;Down</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C-l-&gt;Left</span><br><span class="line">D-r-&gt;Right</span><br></pre></td></tr></table></figure>

<h3 id="package-style"><a href="#package-style" class="headerlink" title="package style"></a>package style</h3><p>可以使用自带的模版来定义每个包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package foo1 &lt;&lt;Node&gt;&gt; &#123;</span><br><span class="line">  class Class1</span><br><span class="line">&#125;</span><br><span class="line">package foo2 &lt;&lt;Rectangle&gt;&gt; &#123;</span><br><span class="line">  class Class2</span><br><span class="line">&#125;</span><br><span class="line">package foo3 &lt;&lt;Folder&gt;&gt; &#123;</span><br><span class="line">  class Class3</span><br><span class="line">&#125;</span><br><span class="line">package foo4 &lt;&lt;Frame&gt;&gt; &#123;</span><br><span class="line">  class Class4</span><br><span class="line">&#125;</span><br><span class="line">package foo5 &lt;&lt;Cloud&gt;&gt; &#123;</span><br><span class="line">  class Class5</span><br><span class="line">&#125;</span><br><span class="line">package foo6 &lt;&lt;Database&gt;&gt; &#123;</span><br><span class="line">  class Class6</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package foo1 &lt;&lt;Node&gt;&gt; &#123;</span><br><span class="line">  class Class1</span><br><span class="line">&#125;</span><br><span class="line">package foo2 &lt;&lt;Rectangle&gt;&gt; &#123;</span><br><span class="line">  class Class2</span><br><span class="line">&#125;</span><br><span class="line">package foo3 &lt;&lt;Folder&gt;&gt; &#123;</span><br><span class="line">  class Class3</span><br><span class="line">&#125;</span><br><span class="line">package foo4 &lt;&lt;Frame&gt;&gt; &#123;</span><br><span class="line">  class Class4</span><br><span class="line">&#125;</span><br><span class="line">package foo5 &lt;&lt;Cloud&gt;&gt; &#123;</span><br><span class="line">  class Class5</span><br><span class="line">&#125;</span><br><span class="line">package foo6 &lt;&lt;Database&gt;&gt; &#123;</span><br><span class="line">  class Class6</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</p></div></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-10-12</span><i class="fa fa-tag"></i><a class="tag" href="/tags/PlantUML/" title="PlantUML">PlantUML </a><span>大约219个字, 43秒读完</span></div></div></div></div><div class="post animated"><div class="post-title"><h3><a href="/2020/08/31/2020-08-31-java-optional-best-practice/">实用Optional时需要注意的二三事</a></h3></div><div class="post-content"><div class="card"><p><h2 id="使用了Optional为什么还发生NullPointerException"><a href="#使用了Optional为什么还发生NullPointerException" class="headerlink" title="使用了Optional为什么还发生NullPointerException"></a>使用了Optional为什么还发生NullPointerException</h2><h2 id="对于空值应该怎么设置"><a href="#对于空值应该怎么设置" class="headerlink" title="对于空值应该怎么设置"></a>对于空值应该怎么设置</h2><h2 id="如何高效的实用Optional返回值"><a href="#如何高效的实用Optional返回值" class="headerlink" title="如何高效的实用Optional返回值"></a>如何高效的实用Optional返回值</h2><h2 id="如何避免Optional相关的反模式"><a href="#如何避免Optional相关的反模式" class="headerlink" title="如何避免Optional相关的反模式"></a>如何避免Optional相关的反模式</h2><h2 id="怎么把Optional用的更专业"><a href="#怎么把Optional用的更专业" class="headerlink" title="怎么把Optional用的更专业"></a>怎么把Optional用的更专业</h2><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a target="_blank" rel="noopener" href="https://blogs.oracle.com/javamagazine/12-recipes-for-using-the-optional-class-as-its-meant-to-be-used">The Java Optianl class (12 recipes)</a></p>
<p><a target="_blank" rel="noopener" href="https://blogs.oracle.com/javamagazine/the-java-optional-class-11-more-recipes-for-preventing-null-pointer-exceptions">The Java Optianl class (11 recipes)</a></p>
</p></div></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-08-31</span><i class="fa fa-tag"></i><a class="tag" href="/tags/Java/" title="Java">Java </a><span>大约62个字, 12秒读完</span></div></div></div></div><div class="post animated"><div class="post-title"><h3><a href="/2020/02/14/2020-02-14-oracle-quiz-enums/">关于Enums的小问题</a></h3></div><div class="post-content"><div class="card"><p><p><a target="_blank" rel="noopener" href="https://blogs.oracle.com/javamagazine/quiz-yourself-understanding-enums-advanced">原文链接</a></p>
<p>首先给出以下Enum：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Size</span>&#123;</span><br><span class="line">  SMALL,</span><br><span class="line">  MEDIUM,</span><br><span class="line">  LARGE</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>问下面的代码执行的结果是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">var</span> <span class="variable">size</span> <span class="operator">=</span> Size.SMALL; <span class="comment">//line n1</span></span><br><span class="line">    <span class="keyword">switch</span> (size) &#123; <span class="comment">//line n2</span></span><br><span class="line">        <span class="keyword">case</span> SMALL: &#123;System.out.println(size);&#125; <span class="comment">//line n3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>n1处编译失败，初始化的写法错误</li>
<li>n2处编译失败，没对应把所有Size包含在case内</li>
<li>n3处编译失败，case后面应该是完整的<code>Size.SMALL</code></li>
<li>输出 <code>SMALL</code></li>
<li>输出 <code>Size@3cb5cdba</code></li>
</ol>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>选项1是错的，局部变量可以使用final来修饰，从<code>Java 10</code>开始，可以使用关键字<code>var</code>来声明局部变量，声明的变量类型由初始化的类型决定。<br>选项2也是错的，switch-case从来都不需要面对所有情况写case。<br>选项3也是错的，当switch的判断条件是enum类型时，case里不需要写类名。<br>选项4是对的，enum类型默认重写了<code>toString</code>方法，输出name的值。<br>选项5是错的，上面说了，enum的toString输出的是name，而不是HashCode.</p>
</p></div></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-02-14</span><i class="fa fa-tag"></i><a class="tag" href="/tags/Java/" title="Java">Java </a><i class="fa fa-tag"></i><a class="tag" href="/tags/Quiz-Yourself/" title="Quiz Yourself">Quiz Yourself </a><span>大约275个字, 55秒读完</span></div></div></div></div><div class="post animated"><div class="post-title"><h3><a href="/2020/02/06/2020-02-06-java-io-csv/">使用Java读写CSV文件</a></h3></div><div class="post-content"><div class="card"><p><p>最近针对一个Issue，需要给excel文件的读写功能增加CSV的支持，本来以为使用类似的方法可以直接写到DTO里面，结果一查，Java好像对CSV的支持还是最原始最基本的写法（并非贬义，可能是容易了反而不需要什么工具来读写CSV）。</p>
<p>总结成一句话就是，读写CSV就相当于读写一个纯字符串文件。</p>
<h2 id="读取CSV"><a href="#读取CSV" class="headerlink" title="读取CSV"></a>读取CSV</h2><p>读取CSV文件大致分为以下几步：</p>
<ol>
<li>使用<code>FileInputStream</code>读取csv文件</li>
<li>使用<code>BufferedReader</code>来对输入流进行更高效的处理</li>
<li>将每一行的数据作为字符串读取，使用<code>split(&quot;,&quot;)</code>分割</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符编码 设置下没坏处</span></span><br><span class="line"><span class="type">Charset</span> <span class="variable">charset</span> <span class="operator">=</span> StandardCharsets.UTF_8;</span><br><span class="line"><span class="comment">// 缓存大小 提高读取效率 </span></span><br><span class="line"><span class="type">int</span> <span class="variable">bufferSize</span> <span class="operator">=</span> <span class="number">5</span> * <span class="number">1024</span> * <span class="number">1024</span>;</span><br><span class="line"><span class="keyword">try</span> (<span class="type">BufferedReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;input/sample.csv&quot;</span>), charset), bufferSize)) &#123;</span><br><span class="line">    String line;</span><br><span class="line">    List&lt;String[]&gt; data = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// 这里假设文件不是很大，不然这么些内存是不够用的</span></span><br><span class="line">    <span class="keyword">while</span> (Objects.nonNull(line = reader.readLine())) &#123;</span><br><span class="line">        data.add(line.split(<span class="string">&quot;,&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 然后 想怎么用就怎么用了</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    <span class="comment">// IOException 就囊括了读取文件可能发生的全部意外</span></span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="写CSV"><a href="#写CSV" class="headerlink" title="写CSV"></a>写CSV</h2><p>跟上面读取CSV的操作正好反过来，写CSV文件分为以下几步:</p>
<ol>
<li>使用<code>FileOutputStream</code>输出文件</li>
<li>将要输出的一行数据使用指定的符号（csv一般是逗号）连接成字符串</li>
<li>输出到文件，使用<code>BufferedWriter.write()</code>的话记得换行</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 文件路径和文件名</span></span><br><span class="line"><span class="type">String</span> <span class="variable">file</span> <span class="operator">=</span> <span class="string">&quot;output/output.csv&quot;</span>;</span><br><span class="line"><span class="comment">// 指定字符编码</span></span><br><span class="line"><span class="type">Charset</span> <span class="variable">charset</span> <span class="operator">=</span> StandardCharsets.UTF_8;</span><br><span class="line"><span class="comment">// 指定缓存</span></span><br><span class="line"><span class="type">int</span> <span class="variable">bufferSize</span> <span class="operator">=</span> <span class="number">5</span> * <span class="number">1024</span> * <span class="number">1024</span>;</span><br><span class="line"><span class="keyword">try</span> (<span class="type">BufferedWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file), charset), bufferSize</span><br><span class="line">)) &#123;</span><br><span class="line">    <span class="keyword">for</span> (String[] datum : data) &#123;</span><br><span class="line">        writer.write(String.join(<span class="string">&quot;,&quot;</span>, datum));</span><br><span class="line">        <span class="comment">// 换行</span></span><br><span class="line">        writer.newLine();</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</p></div></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-02-06</span><i class="fa fa-tag"></i><a class="tag" href="/tags/Java/" title="Java">Java </a><i class="fa fa-tag"></i><a class="tag" href="/tags/CSV/" title="CSV">CSV </a><span>大约453个字, 1分钟30秒读完</span></div></div></div></div><div class="post animated"><div class="post-title"><h3><a href="/2020/01/28/2020-01-28-clob-octet/">二进制大对象和字符大对象</a></h3></div><div class="post-content"><div class="card"><p><blockquote>
<p>这都是啥啥啥</p>
</blockquote>
<h2 id="CLOB-和-BLOB"><a href="#CLOB-和-BLOB" class="headerlink" title="CLOB 和 BLOB"></a>CLOB 和 BLOB</h2><p><strong>CLOB</strong> 是可变长度的字符（char）大（long）对象（Object），用于基于字符的数据，以字节Byte或者标准八字节OCTET为单位，最大长度是2G（2,147,483,647）</p>
<p><strong>BLOB</strong> 是可变长度的二进制（Binary）大（long）对象（Object），用于保存语音，混合媒体等非传统数据，以字节Byte为单位，最大长度也是2G（2,147,483,647）</p>
<h2 id="OCTET-和-Byte"><a href="#OCTET-和-Byte" class="headerlink" title="OCTET 和 Byte"></a>OCTET 和 Byte</h2><p>我们都知道计算机中一个0&#x2F;1表示一个比特bit,八个比特表示一个字节byte。但是在实际应用中，byte可以表示4-10比特的不同长度，为了统一标准，将严格意义上的8bits也称为<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%85%AB%E4%BD%8D%E5%85%83%E7%B5%84">OCTET</a></p>
</p></div></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-01-28</span><span>大约198个字, 39秒读完</span></div></div></div></div><div class="post animated"><div class="post-title"><h3><a href="/2020/01/28/2020-01-28-python-class/">Python中类的使用</a></h3></div><div class="post-content"><div class="card"><p><blockquote>
<p>类就是Class</p>
</blockquote>
<h2 id="类的基本"><a href="#类的基本" class="headerlink" title="类的基本"></a>类的基本</h2><ol>
<li>类和实体 我们可以简单的将实体（instance）理解成具体的实物对象，把类看作是生产实体的蓝图。比如我们定义一个类<code>Car</code>，之后就可以在任何地方反复调用这个蓝图来生产<code>Car</code>的实体</li>
<li>方法 在Python中我们可以像写脚本一样随便写个方法就执行，但是这可能带来诸多麻烦。比如我们为汽车的启动和停止写了两个方法<code>run()</code>和<code>stop()</code>，为了确定让哪辆车启动哪辆车停下，我们需要把对象的车多为参数传递进方法，是不是有一种拿遥控器开车还要每次都设置开的哪辆车的感觉？ 当我们需要在不同的地方使用这两个方法时，就要重新写一遍。如果我们把<code>run()</code> 和<code>stop()</code>写到类<code>Car</code>里面，就可以通过每个<code>Car</code>的实体，直接调用启动和停止的方法，方法属于车的实体，不同实体间的启动停止互不影响，这就有开车那味儿了。</li>
<li>成员变量 类的成员变量分为两种(此处为Java思维）：静态变量和实例变量。 所谓静态变量，我们可以理解成刻在蓝图里的，比如我们给<code>Car</code>定义一个静态变量<code>轮子数 = 4</code>,这样我们生成的每个车都可以使用这个变量，甚至不生成实例的时候，也可以使用<code>Car.轮子数</code>, 只要看一下蓝图，就知道这个变量值。相比之下，实例变量就是指从属于实例的变量，比如<code>排气量 长度 宽度</code>,如果要调用这些变量，直接通过<code>Car.排气量</code>是不行的，因为图纸上可没具体写这变量是多少，需要先生成一个实体<code>my_car = Car()</code>，然后给<code>my_car</code>设置并使用</li>
</ol>
<h2 id="Python中类的使用"><a href="#Python中类的使用" class="headerlink" title="Python中类的使用"></a>Python中类的使用</h2><h3 id="类的定义"><a href="#类的定义" class="headerlink" title="类的定义"></a>类的定义</h3><p>Python中定义类使用的是关键字<code>class</code>，类的范围通过统一的缩进来管理  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span>:</span><br><span class="line">  <span class="built_in">id</span> = <span class="number">12345</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, <span class="built_in">id</span></span>):</span><br><span class="line">    <span class="variable language_">self</span>.<span class="built_in">id</span> = <span class="built_in">id</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;run <span class="subst">&#123;self.<span class="built_in">id</span>&#125;</span>!&#x27;</span>)  </span><br></pre></td></tr></table></figure>

<p>类的内部使用关键字<code>def</code>来定义方法，方法必须至少有一个参数<code>self</code>，<code>self</code>的含义相当于Java的<code>this</code>，指的是类的实例，可以通过<code>self</code>来访问实例变量和方法。  </p>
<p><code>__init__</code>是构造体，当我们使用类名来生成实例的时候，会根据参数来调用对应的构造体生成实例，最基本的写法就是直接通过构造体给实例变量初始化，比如使用上面代码里得构造体：<code>Car(54321)</code>。  </p>
<p>Python中使用<code>__</code>双下划线来定义私有变量和私有方法，私有的元素无法在外部通过实例名或者类名访问到</p>
<p>就像Java中所有的类都是Object的字类，都继承了一些基本的方法一样，Python中也有一些类的专有方法, 且可以重写：</p>
<ul>
<li><strong>init</strong> : 构造函数，在生成对象时调用</li>
<li><strong>del</strong> : 析构函数，释放对象时使用</li>
<li><strong>repr</strong> : 打印，转换</li>
<li><strong>setitem</strong> : 按照索引赋值</li>
<li><strong>getitem</strong>: 按照索引获取值</li>
<li><strong>len</strong>: 获得长度</li>
<li><strong>cmp</strong>: 比较运算</li>
<li><strong>call</strong>: 函数调用</li>
<li><strong>add</strong>: 加运算</li>
<li><strong>sub</strong>: 减运算</li>
<li><strong>mul</strong>: 乘运算</li>
<li><strong>truediv</strong>: 除运算</li>
<li><strong>mod</strong>: 求余运算</li>
<li><strong>pow</strong>: 乘方</li>
</ul>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>跟同事聊了聊为什么要使用类，想起了一个很重要的点：内存管理。<br>如果我们不适用类来管理方法和变量的话，程序运行过程中，定义的变量和方法就会一直存在，占用内存空间；但是当我们使用了类之后，则可以在需要的时候声明类的实例来调用内存，当一个实例不再被使用的时候，又可以通过垃圾回收自动收回内存（垃圾回收机制不同语言有不同的做法）。这样我们的程序才可以根据需求灵活地使用资源。<br>当然，方法和变量的管理更方便什么的，也算使用类的好处</p>
</p></div></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-01-28</span><i class="fa fa-tag"></i><a class="tag" href="/tags/Python/" title="Python">Python </a><span>大约1120个字, 3分钟44秒读完</span></div></div></div></div><div class="post animated"><div class="post-title"><h3><a href="/2020/01/24/2020-01-24-git-prune/">Git Prune命令</a></h3></div><div class="post-content"><div class="card"><p><p><code>git prune</code> 简单地说就是一个清扫（housekeeping）的命令。</p>
<p>使用git查看分支，可以看到分支有三个重要分类：本地分支，本地-远程分支的参照，远程分支<br>比如我们在github上merge了一个PR，顺手删除了一个分支，这时在本地的电脑上本删除的分支对应的本地分支，远程分支，远程本地的参照关系都还存在，如果我们使用<code>git branch -D name</code>删除该分支， 会发现只删除了本地的分支，所参照的远程分支<code>origin/name</code>依然存在，清理这种残留垃圾的命令的时候，就是用到了prune。</p>
<h3 id="git-remove-prune-和-git-fetch-prune"><a href="#git-remove-prune-和-git-fetch-prune" class="headerlink" title="git remove prune 和 git fetch --prune"></a><code>git remove prune</code> 和 <code>git fetch --prune</code></h3><p><code>git remove prune</code> 清理所有已经删掉的远程分支参照，但是不会删除本地分支</p>
<p><code>git fetch --prune</code> 则是清理完远程的无用分支之后，再把最近状态fetch到本地</p>
</p></div></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-01-24</span><i class="fa fa-tag"></i><a class="tag" href="/tags/git/" title="git">git </a><span>大约254个字, 50秒读完</span></div></div></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/">上一页</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/page/3/">下一页</a></li></ul></div></div></div></div></main-outlet><script>(async function(){ if (Anatolo.search == null) await Anatolo.getMsg("search-init"); Anatolo.search.config = {translation:{posts:"文章",pages:"页面",categories:"分类",tags:"标签",untitled:"(无标题)",} }; })()</script><div class="searchbox ins-search modal-cover"><div class="searchbox-container ins-search-container modal-container"><div class="searchbox-input-wrapper"><input class="searchbox-input ins-search-input" type="text" placeholder="想要查找什么..."><span class="searchbox-close"><a class="fa fa-times-circle" onclick="Anatolo.search.closeWindow();"></a></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"><p>Seraching...</p></div></div></div></div><button class="float-button hide" id="scroll-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" type="button" title="回到顶部"><i class="fa fa-angle-up"></i></button><div class="modal-cover" id="success-indicator"><div class="modal-container indicator"><i class="fa fa-check"></i></div></div></body></html>